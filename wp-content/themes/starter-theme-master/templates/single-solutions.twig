{% extends "base.twig" %}

{% block content %}
	<div class="content-wrapper">
		<article class="post-type-{{post.post_type}}" id="post-{{post.ID}}">
			<section class="article-content">
				<h1 class="article-h1">Solution: {{post.title}}</h1>
				<p class="blog-author">
					<span>By</span><a href="{{post.author.path}}"> {{ post.author.name }} </a><span>&bull;</span> {{ post.post_date|date}}
				</p>
				<div class="article-body">
					{{post.content}}
				</div>
				<h2>Votes: {{ post.upvotes | length }}</h2>
				<form method="POST" action="/solutions/upvote" enctype="multipart/form-data">
			    <input type="hidden" name="solution_id" value="{{ post.id}}">
			    <input type="hidden" name="user_id" value="{{ user.id}}">
			    <input type="submit" value="+1">
			  </form>
				<h3>Contributors</h3>
				{% for contributor in post.contributors %}
					{% set contributor = TimberUser(contributor) %}
					<ul>
						<li>{{ contributor.display_name }}</li>
					</ul>
				{% endfor %}
			</section>
			<div class="respond">
				<h3 class="h2">Comments</h3>
				{{ comment_form }}
			</div>
			<div class="responses">
				{% for cmt in post.get_comments() %}
					{% include "comment.twig" with {comment:cmt} %}
				{% endfor %}
			</div>
		</article>
	</div><!-- /content-wrapper -->
{% endblock %}
