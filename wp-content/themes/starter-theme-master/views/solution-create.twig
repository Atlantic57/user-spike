{% extends 'base.twig' %}
{% set user = TimberUser(user) %}
{% set challenge = TimberPost(challenge) %}
{% block content %}
  <h1>Creating a solution to {{ challenge.title }}</h1>
  <form method="POST" action="/solutions/insert" enctype="multipart/form-data">
    <dl>
      <dt>Title</dt>
      <dd><input type="text" name="title" id="solution_title"></dd>
      <dt>Solution</dt>
      <dd>
        <textarea name="content" rows="8" cols="40" id="solution_content"></textarea>
      </dd>
      <dt>Contributors</dt>
      <dd>
        <ul>
          {% for user in users %}
          {% set user = TimberUser(user) %}
            <li>
              <input type="checkbox" name="contributors[]" value="{{ user.id }}" id="user-{{ user.id }}">
              <label for="user-{{ user.id }}">{{ user.display_name }}</label>
            </li>
          {% endfor %}
        </ul>
      </dd>
    </dl>
    <input type="hidden" name="challenge_id" value="{{ challenge.id}}">
    <input type="hidden" name="user_id" value="{{ user.id}}">
    <input type="submit">
  </form>
  <h4>Proposed by: {{ user.display_name }}</h4>
{% endblock %}
